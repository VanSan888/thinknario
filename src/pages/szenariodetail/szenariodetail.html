<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
	<!-- Ausgabe des Usernamens der akutellen Seite
    Aktuelle Seite wird durch die Navigationsparameter in szenariodetail.ts festgelegt.-->
    <ion-title>Szenario von {{currentSzenario?.username}}</ion-title>
  </ion-navbar>
</ion-header>


<ion-content>
  <p>Problemdefinition: {{currentSzenario?.problemdefinition}}</p>

<div padding>
  <ion-segment [(ngModel)]="hilfen">
    <ion-segment-button value="Annahmen" (click)="hideSchluesselfaktoren()">
      Annahmen
    </ion-segment-button>
    <ion-segment-button value="randbedingungen" (click)="hideSchluesselfaktoren()">
      Randbedingungen
    </ion-segment-button>
	<ion-segment-button value="ereignisse" (click)="hideSchluesselfaktoren()">
      Ereignisse
    </ion-segment-button>
	<ion-segment-button value="schluesselfaktoren" (click)="toggleSchluesselfaktoren()">
      Schlüsselfaktoren
    </ion-segment-button>
  </ion-segment>
</div>

<div [ngSwitch]="hilfen">
  <ion-list *ngSwitchCase="'Annahmen'">
    <ion-item>
      <h4>Annahme 1:</h4>
	  <p>{{currentSzenario?.annahme1}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.annahmebegruendung1 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.annahmebegruendung1}}</p>
    </ion-item>	
    <ion-item>
      <h4>Annahme 2:</h4>
	  <p>{{currentSzenario?.annahme2}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.annahmebegruendung2 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.annahmebegruendung2}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.annahme3">
      <h4>Annahme 3:</h4>
	  <p>{{currentSzenario?.annahme3}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.annahmebegruendung3 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.annahmebegruendung4}}</p>
    </ion-item>
    <ion-item  [hidden]="!currentSzenario?.annahme4">
      <h4>Annahme 4:</h4>
	  <p>{{currentSzenario?.annahme4}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.annahmebegruendung4 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.annahmebegruendung4}}</p>
    </ion-item>
    <div [hidden]="!currentSzenario?.annahmebegruendung1 && !currentSzenario?.annahmebegruendung2
	&& !currentSzenario?.annahmebegruendung3 && !currentSzenario?.annahmebegruendung4" padding-bottom>
	  <ion-toggle float-right [(ngModel)]="toggleVar" name="ToggleVarAnnahmen"></ion-toggle>
      <p float-right>Begründungen ein- und ausblenden: </p>
    </div>
  </ion-list>
</div>
  
<div [ngSwitch]="hilfen">
  <ion-list *ngSwitchCase="'randbedingungen'">
    <ion-item>
      <h4>Randbedingung 1:</h4>
	  <p>{{currentSzenario?.randbedingung1}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.randbedingungbegruendung1 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.randbedingungbegruendung1}}</p>
    </ion-item>
    <ion-item>
      <h4>Randbedingung 2:</h4>
	  <p>{{currentSzenario?.randbedingung2}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.randbedingungbegruendung2 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.randbedingungbegruendung2}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.randbedingung3">
      <h4>Randbedingung 3:</h4>
	  <p>{{currentSzenario?.randbedingung3}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.randbedingungbegruendung3 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.randbedingungbegruendung3}}</p>
    </ion-item>
    <ion-item  [hidden]="!currentSzenario?.randbedingung4">
      <h4>Randbedingung 4:</h4>
	  <p>{{currentSzenario?.randbedingung4}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.randbedingungbegruendung4 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p  padding-left>{{currentSzenario?.randbedingungbegruendung4}}</p>
    </ion-item>
    <div [hidden]="!currentSzenario?.randbedingungbegruendung1 && !currentSzenario?.randbedingungbegruendung2
	&& !currentSzenario?.randbedingungbegruendung3 && !currentSzenario?.randbedingungbegruendung4" padding-bottom>
	  <ion-toggle float-right [(ngModel)]="toggleVar" name="ToggleVarRandbedingungen"></ion-toggle>
      <p float-right>Begründungen ein- und ausblenden: </p>
    </div>
  </ion-list>
</div>  

<div [ngSwitch]="hilfen">
  <ion-list *ngSwitchCase="'ereignisse'">
    <ion-item>
      <h4>Ereignis 1:</h4>
	  <p>{{currentSzenario?.ereignis1}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.ereignisbegruendung1 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p padding-left>{{currentSzenario?.ereignisbegruendung1}}</p>
    </ion-item>
    <ion-item>
      <h4>Ereignis 2:</h4>
	  <p>{{currentSzenario?.ereignis2}}</p>
    </ion-item>
    <ion-item [hidden]="!currentSzenario?.ereignisbegruendung2 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p  padding-left>{{currentSzenario?.ereignisbegruendung2}}</p>
    </ion-item>
    <ion-item  [hidden]="!currentSzenario?.ereignis3">
      <h4>Ereignis 3:</h4>
	  <p>{{currentSzenario?.ereignis3}}</p>
    </ion-item>
    <ion-item  [hidden]="!currentSzenario?.ereignisbegruendung3 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p  padding-left>{{currentSzenario?.ereignisbegruendung3}}</p>
    </ion-item>
    <ion-item   [hidden]="!currentSzenario?.ereignis4">
      <h4>Ereignis 4:</h4>
	  <p>{{currentSzenario?.ereignis4}}</p>
    </ion-item>
    <ion-item  [hidden]="!currentSzenario?.ereignisbegruendung4 || !toggleVar">
      <h4  padding-left>Begründung:</h4>
	  <p  padding-left>{{currentSzenario?.ereignisbegruendung4}}</p>
    </ion-item>
    <div [hidden]="!currentSzenario?.ereignisbegruendung1 && !currentSzenario?.ereignisbegruendung2
	&& !currentSzenario?.ereignisbegruendung3 && !currentSzenario?.ereignisbegruendung4" padding-bottom>
	  <ion-toggle float-right [(ngModel)]="toggleVar" name="ToggleVarEreignisse"></ion-toggle>
      <p float-right>Begründungen ein- und ausblenden: </p>
    </div>
  </ion-list> 
</div>

<div [hidden]='!toggleVarSchluesselfaktoren'>
    <ion-slides>
      <ion-slide [hidden]='!currentSzenario?.schluesselfaktor1'>
        <p>Nach links oder rechts schieben, um andere Schlüsselfaktoren anzuzeigen</p>
        <canvas #canvas1></canvas>
      </ion-slide>
      <ion-slide [hidden]='!currentSzenario?.schluesselfaktor2'>
        <p>Nach links oder rechts schieben, um andere Schlüsselfaktoren anzuzeigen</p>
        <canvas #canvas2></canvas> 
      </ion-slide>
      <ion-slide [hidden]='!currentSzenario?.schluesselfaktor3'>
        <p>Nach links oder rechts schieben, um andere Schlüsselfaktoren anzuzeigen</p>
        <canvas #canvas3></canvas> 
      </ion-slide>
      <ion-slide [hidden]='!currentSzenario?.schluesselfaktor4'>
        <p>Nach links oder rechts schieben, um andere Schlüsselfaktoren anzuzeigen</p>
        <canvas #canvas4></canvas> 
      </ion-slide>
      <ion-slide [hidden]='!currentSzenario?.schluesselfaktor5'>
        <p>Nach links oder rechts schieben, um andere Schlüsselfaktoren anzuzeigen</p>
        <canvas #canvas5></canvas> 
      </ion-slide>
      <ion-slide [hidden]='!currentSzenario?.schluesselfaktor6'>
        <p>Nach links oder rechts schieben, um andere Schlüsselfaktoren anzuzeigen</p>
        <canvas #canvas6></canvas> 
      </ion-slide>
    </ion-slides>
</div>

<h4  padding>Szenario von {{currentSzenario?.username}}</h4>
<div [hidden]="hilfeVar">
  <h6 padding-left>{{currentSzenario?.szenariotext}}</h6>
</div>
<div [hidden]="!hilfeVar">
  <h5 padding-top padding-left>Ausgangslage:</h5>
  <h6 padding-left>{{currentSzenario?.ausgangslage}}</h6>
  <h5 padding-top padding-left>Entwicklung:</h5>  
  <h6 padding-left>{{currentSzenario?.entwicklung}}</h6>
  <h5 padding-top padding-left>Endzustand:</h5>
  <h6 padding-left>{{currentSzenario?.endzustand}}</h6>
</div>


<!-- Button, der beim clicken die goToRatingDetail() Funktion aufruft und die aktuelle SzenarioID übergibt -->
<button ion-button padding (click)="goToRatingDetail(currentSzenario.id)"
>Dieses Szenario bewerten und kommentieren</button>

<disqus [url]="'http://localhost:8100/#/szenariodetail/:szenarioID'" [identifier] = "pageId" ></disqus>


</ion-content>