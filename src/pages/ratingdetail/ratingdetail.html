<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
	<!-- Ausgabe des Userszenarios, dass bewertet werden soll. -->
    <ion-title>Szenariobewertung für {{currentSzenario?.username}}</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>

<!-- name der Form für die Validierung -->
<form #ratingForm="ngForm">
  <ion-list>
    <h4>Entwicklung</h4>
	<!-- Hier werden die einzelnen Ratingkriterien jeweils als ioin-range
    abgefragt und eingegeben. Bei Veränderung der Werte wird durch (ionChange)
	die jeweilige Update() Funktion in ratingdetail.ts aufgerufen.
	required dient der Formvalidierung-->
    <p> Hier kurze Erklärung. Wie schätzen Sie die Entwicklung des Szenarios ein? </p>
      <ion-item>
        <ion-range [(ngModel)]="entwicklung" name="Entwicklung"
	    (ionChange)="updateEntwicklungDetail(entwicklung)" required>
          <ion-label range-left>Sehr negativ</ion-label>
          <ion-label range-right>Sehr positiv</ion-label>
        </ion-range>
      </ion-item>
    <h4>Realitätsnähe</h4>
    <p> Hier kurze Erklärung. Als wie realistisch schätzen Sie das Szenario ein? </p>
      <ion-item>
        <ion-range [(ngModel)]="realitaetsnaehe" name="Realitaetsnaehe"
	    (ionChange)="updateRealitaetsnaeheDetail(realitaetsnaehe)" required>
          <ion-label range-left>Sehr unrealistisch</ion-label>
          <ion-label range-right>Sehr realistisch</ion-label>
        </ion-range>
      </ion-item>
    <h4>Relevanz</h4>
    <p> Hier kurze Erklärung. Als wie relavant schätzen Sie das Szenario und dessen Problemdefinition ein? </p>	
      <ion-item>
        <ion-range [(ngModel)]="relevanz" name="Relevanz"
	    (ionChange)="updateRelevanzDetail(relevanz)" required>
          <ion-label range-left>Sehr irrelevant</ion-label>
          <ion-label range-right>Sehr relevant</ion-label>
        </ion-range>
      </ion-item>
    <h4>Ausführlichkeit</h4>
    <p> Hier kurze Erklärung. Wie ausführlich wurde das Szenario beschrieben? </p>
      <ion-item>
        <ion-range [(ngModel)]="ausfuehrlichkeit" name="Ausfuehrlichkeit"
	    (ionChange)="updateAusfuehrlichkeitDetail(ausfuehrlichkeit)" required>
          <ion-label range-left>Sehr oberflächlich</ion-label>
          <ion-label range-right>Sehr ausführlich</ion-label>
        </ion-range>
      </ion-item>
    <h4>Zusammenhänge</h4>
    <p> Wie sehr würden Sie der folgenden Aussage zustimmen? </p> 
    <p> Das Szenario stellt Zusammenhänge zwischen den Schlüsselfaktoren, Annahmen, <br>
    Randbedingungen und überraschenden Ereignissen anschaulich dar. </p>
      <ion-item>
        <ion-range [(ngModel)]="zusammenhaenge" name="Zusammenhaenge"
	    (ionChange)="updateZusammenhaengeDetail(zusammenhaenge)" required>
          <ion-label range-left>Lehne stark ab</ion-label>
          <ion-label range-right>Stimme stark zu</ion-label>
        </ion-range>
      </ion-item>	
    <h4>Wiedersprüche</h4>
    <p> Wie sehr würden Sie der folgenden Aussage zustimmen? </p> 
    <p> Das Szenario ist widerspruchsfrei und in sich stimmig. </p>
      <ion-item>
        <ion-range [(ngModel)]="wiedersprueche" name="Wiedersprueche"
	    (ionChange)="updateWiederspruecheDetail(wiedersprueche)" required>
          <ion-label range-left>Lehne stark ab</ion-label>
          <ion-label range-right>Stimme stark zu</ion-label>
        </ion-range>
      </ion-item>	
    <h4>Faktenlage</h4>
    <p> Wie sehr würden Sie der folgenden Aussage zustimmen? </p> 
    <p> Das Szenario enthält keine Fakten. Es besteht zu einem Großteil aus Schwafelei. </p>
      <ion-item>
        <ion-range [(ngModel)]="faktenlage" name="faktenlage"
	    (ionChange)="updateFaktenlageDetail(faktenlage)" required>
          <ion-label range-left>Lehne stark ab</ion-label>
          <ion-label range-right>Stimme stark zu</ion-label>
        </ion-range>
      </ion-item>
  </ion-list>
  <!-- Fehlernachricht, wenn nicht alle Kriterien bewertet wurden (required).-->
  <div [hidden]="ratingForm.form.valid">
    <p>Bitte geben Sie für alle Kriterien Ihre Einschätzung ab.</p>
  </div>  
</form>


<!-- Button kann erst geklickt werden, wenn alle Kriterien bewertet wurden. -->
<!-- Aufruf der updateAverage() Funktion -->
<button ion-button [navPush]="homePage"
[disabled]="!ratingForm.form.valid"
(click)="updateAverage()">Speichern und Zur Homepage</button>

</ion-content>
