<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Entwicklung der Schlüsselfaktoren</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
<h4>Erklärung</h4>
  <p>Erklärung, was hier gemacht werden soll. Video/gif und die Eintragung der Graphen in die Koordinatensysteme</p>

<!-- slides zur Darstellung der Hilfen, wie man die canvas benutzt.
toggleHilfe blendet die Hilfen ein und aus (siehe ion-toggle).-->
<ion-slides [hidden]="!toggleHilfe">
  <ion-slide>
    <p> Für weitere Erkärungen einfach die Videos hin- und herschieben. </p>
    <p> Zeichnen </p>
    <!-- iframe zur Darstellung der youtube-Videos. Einstellung der Höhe und Breite sowie der Quelle,
    der Rahmens (0 = kein Rahmen) und erlauben des Vollbildmodus -->
    <iframe width="400px" height="300px" [src]="safeURL1" frameborder="0" allowfullscreen></iframe>
  </ion-slide>
  <ion-slide>
    <p> Für weitere Erkärungen einfach die Videos hin- und herschieben. </p>
    <p> Radieren </p>
    <iframe width="400px" height="300px" [src]="safeURL2" frameborder="0" allowfullscreen></iframe>
  </ion-slide>
  <ion-slide>
    <p> Für weitere Erkärungen einfach die Videos hin- und herschieben. </p>
    <p> Zurücksetzen </p>
    <iframe width="400px" height="300px" [src]="safeURL3" frameborder="0" allowfullscreen></iframe>
  </ion-slide>
</ion-slides>

<!-- ion-toggle zum ein-und ausblenden der Hiflen mittels two-way Data binding -->
  <div>
    <p float-left>Erklärungen ein- und ausblenden: </p>
    <ion-toggle [(ngModel)]="toggleHilfe" name="ToggleHilfe" float-left></ion-toggle>
  </div>

<!-- Button, der die showStartEnd() Funktion auslöst. Ist versteckt, wenn hideStartend true ist. -->
<button ion-button (click)="showStartEnd()" [hidden]="hideStartEnd" >Verstanden - Weiter!</button>

<!-- Auswahl der Start- und Endzeitpunkte für das Szenario. Wird eingeblendet, wenn hideStartEnd true ist. -->

<ion-list [hidden]='!hideStartEnd'>
  <ion-item padding>
  <ion-label>Start Ihres Szenarios</ion-label>
    <!-- ion-datetime zur Auswahl der Start- und Endzeitpunkte mittels two-way Data binding -->
    <ion-datetime displayFormat="YYYY" pickerFormat="YYYY"
    [(ngModel)]="startSzenario" (ionChange)="updateStartEnd(startSzenario, endSzenario)" #StartSzenario>
    </ion-datetime>
  </ion-item>
  <ion-item padding>
  <ion-label>Ende Ihres Szenarios</ion-label>
    <ion-datetime displayFormat="YYYY" pickerFormat="YYYY" max="2050"
    [(ngModel)]="endSzenario" (ionChange)="updateStartEnd(startSzenario, endSzenario)" #StartSzenario>
    </ion-datetime>
  </ion-item>
  <!-- Wenn der Button geklickt wird, wird die showDeskriptoren() Funktion aufgerufen.
  Der Button wird dadurch ausgeblendet (hideDeskriptoren = true) -->
  <button ion-button (click)="showDeskriptoren()" [hidden]='hideDeskriptoren'
  [disabled]="!endSzenario">Weiter</button>
</ion-list>




<!-- div zur Darstellung der canvas. Wird eingeblendet, wenn hideDeskriptoren=true. -->
<div [hidden]='!hideDeskriptoren'>
<div>
<canvas-whiteboard  #canvasWhiteboard
                       [drawButtonClass]="'fa fa-pencil fa-2x'"
                       [drawButtonText]="'Zeichnen'"
                       [clearButtonClass]="'fa fa-eraser fa-2x canvas_whiteboard_button-clear'"
                       [clearButtonText]="'Zurücksetzen'"
                       [undoButtonText]="'Rückgängig'"
                       [undoButtonEnabled]="true"
                       [redoButtonText]="'Wiederherstellen'"
                       [redoButtonEnabled]="true"
                       [colorPickerEnabled]="true"
                       (onBatchUpdate)="sendBatchUpdate($event)"
                       (onClear)="onCanvasClear()"
                       (onUndo)="onCanvasUndo($event)"
                       (onRedo)="onCanvasRedo($event)">                    
</canvas-whiteboard>
</div>

<!-- canvas wird nur angezeigt, wenn der User bei SchluesselfaktorenPage bei dem entsprechenden
Schlüsselfaktor einen Haken gesetzt hat. -->
<div [hidden]="!schluesselfaktor1">
  <canvas #canvas1></canvas>
  <!-- Buttons, die jeweils Funktionen zum Malen, Radieren oder Zurücksetzen aufrufen. 
  (6 Stück, alle ähnlich.) -->
  <button ion-button (click)="clearCanvas1()" color="danger">Zurücksetzen</button>
  <button ion-button (click)="drawCanvas1()">Zeichnen</button>
  <button ion-button (click)="eraseCanvas1()" outline>Radieren</button>
</div>
<div [hidden]="!schluesselfaktor2">
  <canvas #canvas2></canvas> 
  <button ion-button (click)="clearCanvas2()" color="danger">Zurücksetzen</button>
  <button ion-button (click)="drawCanvas2()">Zeichnen</button>
  <button ion-button (click)="eraseCanvas2()" outline>Radieren</button>
</div>
<div [hidden]="!schluesselfaktor3">
  <canvas #canvas3></canvas> 
  <button ion-button (click)="clearCanvas3()" color="danger">Zurücksetzen</button>
  <button ion-button (click)="drawCanvas3()">Zeichnen</button>
  <button ion-button (click)="eraseCanvas3()">Radieren</button>
</div>
<div [hidden]="!schluesselfaktor4">
  <canvas #canvas4></canvas> 
  <button ion-button (click)="clearCanvas4()" color="danger">Zurücksetzen</button>
  <button ion-button (click)="drawCanvas4()">Zeichnen</button>
  <button ion-button (click)="eraseCanvas4()" outline>Radieren</button>
</div>
<div [hidden]="!schluesselfaktor5">
  <canvas #canvas5></canvas> 
  <button ion-button (click)="clearCanvas5()" color="danger">Zurücksetzen</button>
  <button ion-button (click)="drawCanvas5()">Zeichnen</button>
  <button ion-button (click)="eraseCanvas5()" outline>Radieren</button>
</div>
<div [hidden]="!schluesselfaktor6">
  <canvas #canvas6></canvas> 
  <button ion-button (click)="clearCanvas6()" color="danger">Zurücksetzen</button>
  <button ion-button (click)="drawCanvas6()">Zeichnen</button>
  <button ion-button (click)="eraseCanvas6()" outline>Radieren</button>
</div>



<button ion-button [navPush]="annahmenPage">Weiter</button>
</div>

</ion-content>
